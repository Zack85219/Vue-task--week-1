import{_,i as h,r as g,o as a,c as n,d as s,F as m,e as I,t as d,b,w as P,a as V}from"./index-633f8d7a.js";const{VITE_API_URL:l,VITE_API_PATH:u}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"59487@@",BASE_URL:"/Vue3-works/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[],status:{loadingItem:""}}},components:{RouterLink:h},methods:{getProducts(){this.$http.get(`${l}/api/${u}/products/all`).then(t=>{this.products=t.data.products}).catch(t=>{console.log(t.message)})},addToCart(t){const r={product_id:t,qty:1};this.status.loadingItem=t,this.$http.post(`${l}/api/${u}/cart`,{data:r}).then(e=>{console.log(e.data),this.status.loadingItem="",alert("已將此商品加入購物車")}).catch(e=>{console.log(e.message)})}},mounted(){this.getProducts()}},T=["src"],$=["onClick","disabled"];function f(t,r,e,E,c,i){const p=g("RouterLink");return a(),n("table",null,[s("tbody",null,[(a(!0),n(m,null,I(c.products,o=>(a(),n("tr",{key:o.id},[s("td",null,d(o.title),1),s("td",null,[s("img",{src:o.imageUrl,alt:"",width:"200"},null,8,T)]),s("td",null,d(o.content),1),s("td",null,[b(p,{to:`/product/${o.id}`,class:"btn btn-outline-secondary"},{default:P(()=>[V("連結單一產品")]),_:2},1032,["to"]),s("button",{class:"btn btn-outline-primary",onClick:A=>i.addToCart(o.id),disabled:c.status.loadingItem===o.id}," 加入購物車 ",8,$)])]))),128))])])}const R=_(k,[["render",f]]);export{R as default};
